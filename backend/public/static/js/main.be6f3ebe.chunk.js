(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{171:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){},181:function(e,t,a){},201:function(e,t,a){},202:function(e,t,a){},203:function(e,t,a){},204:function(e,t,a){},205:function(e,t,a){},206:function(e,t,a){},207:function(e,t,a){},208:function(e,t,a){},209:function(e,t,a){},220:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(51),s=a.n(c),i=(a(171),a(15)),l=a(150),o=a(269),u=a(41),d=a(21),j=(a(172),a(271)),p=a(144),b=a.n(p),h=a(143),O=a.n(h),x=(a(173),a(1));function f(){localStorage.removeItem("idToken"),window.location.href="/"}var m=function(){var e=n.a.useContext(Se).globalUserData;return console.log(),Object(x.jsxs)("div",{className:"app-nav-wrapper",children:[Object(x.jsx)("div",{children:Object(x.jsx)(u.b,{to:"dashboard",children:"CONVERGE"})}),Object(x.jsxs)("div",{className:"--margin-right",children:["/search-projects"!==Object(d.g)().pathname&&e.user_type&&"applicant"===e.user_type&&Object(x.jsx)(u.b,{to:"search-projects",children:Object(x.jsx)(j.a,{style:{width:"300px",padding:"8px 0px"},size:"small",variant:"outlined",startIcon:Object(x.jsx)(O.a,{}),children:" Search projects"})}),"/dashboard"!==Object(d.g)().pathname&&Object(x.jsx)(u.b,{to:"dashboard",children:Object(x.jsx)(j.a,{children:"Return to dashboard"})})]}),Object(x.jsx)("div",{children:Object(x.jsx)(j.a,{onClick:f,size:"small",color:"error",variant:"text",startIcon:Object(x.jsx)(b.a,{}),children:" logout"})})]})};var v=function(){return Object(d.f)().push("/dashboard"),Object(x.jsx)("div",{children:"Redirecting you to awesome..."})},_=a(14),g=a.n(_),k=a(9),y=a(17),w=(a(181),a(261)),C=a(272),S=a(32),N=a.n(S),D=function(){var e=Object(y.a)(g.a.mark((function e(t){var a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=localStorage.getItem("idToken"))&&null!=a&&"null"!==a){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,N.a.post("/api/users/create",{new_user_data:t},{headers:{authorization:"Bearer "+a}});case 6:if("success"!==(r=e.sent).data.status){e.next=11;break}return e.abrupt("return",[!0,null]);case 11:if("error"!==r.data.status){e.next=13;break}return e.abrupt("return",[!1,r.data.error]);case 13:e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(3),console.log("[addUser]"),console.log(e.t0.response.data.error),e.abrupt("return",[!1,e.t0.response.data.error]);case 20:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(y.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=localStorage.getItem("idToken"))&&null!=t&&"null"!==t){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,N.a.get("/api/users/doc/self",{headers:{authorization:"Bearer "+t}});case 6:return a=e.sent,e.abrupt("return",a.data.data);case 10:e.prev=10,e.t0=e.catch(3),"user/notFound"===e.t0.response.data.error&&(window.location.href="/complete-signup"),console.log("[getCurrentUserData]"),console.log(e.t0.response.data.error);case 15:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(y.a)(g.a.mark((function e(t){var a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=localStorage.getItem("idToken"))&&null!=a&&"null"!==a){e.next=3;break}return e.abrupt("return");case 3:return t.skillString&&(t.skillString=null),e.prev=4,e.next=7,N.a.put("/api/users/doc/self",{updated_data:t},{headers:{authorization:"Bearer "+a}});case 7:if("success"!==(r=e.sent).data.status){e.next=12;break}return e.abrupt("return",[!0,null]);case 12:if("error"!==r.data.status){e.next=14;break}return e.abrupt("return",[!1,r.data.error]);case 14:e.next=22;break;case 16:return e.prev=16,e.t0=e.catch(4),"user/notFound"===e.t0.response.data.error&&(window.location.href="/complete-signup"),console.log("[updateUser]"),console.log(e.t0.response.data.error),e.abrupt("return",[!1,e.t0.response.data.error]);case 22:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(t){return e.apply(this,arguments)}}();var T=function(){var e=Object(r.useState)({username:"",phone_number:"",resume_url:"",skills:[],user_type:"applicant"}),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(!1),s=Object(i.a)(c,2),l=s[0],o=s[1];function u(){return(u=Object(y.a)(g.a.mark((function e(){var t,r,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.username){e.next=3;break}return alert("Please enter a username."),e.abrupt("return");case 3:if(a.phone_number){e.next=6;break}return alert("Please enter your contact number."),e.abrupt("return");case 6:if("applicant"!==a.user_type||0!==a.skills.length){e.next=9;break}return alert("Please add atleast one skill to continue."),e.abrupt("return");case 9:return o(!0),e.next=12,D(a);case 12:t=e.sent,r=Object(i.a)(t,2),(n=r[1])?(alert(n),o(!1)):window.location.href="/dashboard",console.log(a);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(x.jsxs)("div",{className:"complete-signup-page__form__wrapper",children:[Object(x.jsxs)("div",{className:"p-12",children:[Object(x.jsx)("h2",{children:"One last step to get you started!"}),Object(x.jsx)("br",{}),Object(x.jsx)(w.a,{fullWidth:!0,value:a.username,id:"outlined-basic",label:"Username",variant:"outlined",onChange:function(e){n(Object(k.a)(Object(k.a)({},a),{},{username:e.target.value.trim().toLowerCase()}))}}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)(w.a,{fullWidth:!0,value:a.phone_number,id:"outlined-basic",label:"Phone number",variant:"outlined",onChange:function(e){n(Object(k.a)(Object(k.a)({},a),{},{phone_number:e.target.value.trim()}))}}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsxs)("div",{className:"__roles__wrapper",children:[Object(x.jsx)("div",{className:["applicant"===a.user_type&&"--active"],onClick:function(){n(Object(k.a)(Object(k.a)({},a),{},{user_type:"applicant"}))},children:"I am looking to join projects"}),Object(x.jsx)("div",{className:["recruiter"===a.user_type&&"--active"],onClick:function(){n(Object(k.a)(Object(k.a)({},a),{},{user_type:"recruiter"}))},children:"I am looking for team members"})]}),Object(x.jsx)("br",{}),"applicant"===a.user_type&&Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{children:"Add skills"}),Object(x.jsx)("br",{}),"Adding skills to your profile results in better project suggestions and increases your chances of being selected by a recruiter.",Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)(w.a,{fullWidth:!0,id:"outlined-basic",helperText:"Enter a list of skills you want to add, separated by commas (,)",label:"My skills",variant:"outlined",onChange:function(e){n(Object(k.a)(Object(k.a)({},a),{},{skills:e.target.value.split(",").map((function(e){return e.trim().toLowerCase()})).filter(Boolean)}))}})]}),Object(x.jsx)("br",{}),"applicant"===a.user_type&&Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{children:"Add resume"}),Object(x.jsx)("br",{}),Object(x.jsx)(w.a,{fullWidth:!0,id:"outlined-basic",helperText:"Enter a link to your resume file, it will be used as your default resume.",label:"Resume URL",variant:"outlined",onChange:function(e){n(Object(k.a)(Object(k.a)({},a),{},{resume_url:e.target.value.trim()}))}})]}),Object(x.jsx)("br",{}),l?Object(x.jsx)(C.a,{}):Object(x.jsx)(j.a,{variant:"contained",onClick:function(){return u.apply(this,arguments)},children:"Save and Continue"})]}),Object(x.jsx)("div",{})]})},I=a(20),U=a(273),P=a(278),E=a(276),B=a(277),L=a(274),R=a(259);a(201);var z=function(){var e=n.a.useContext(Se),t=e.globalUserData,a=e.setGlobalUserData,c=Object(r.useState)({username:"",firebase_uid:"",display_name:"",display_picture:"",phone_number:"",resume_url:"",email:"",skills:[],fcm_device_tokens:[]}),s=Object(i.a)(c,2),l=s[0],o=s[1],u=Object(r.useState)({username:"",display_name:"",phone_number:"",skills:[],skillString:"",resume_url:""}),d=Object(i.a)(u,2),p=d[0],b=d[1];Object(r.useEffect)((function(){(function(){var e=Object(y.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:t=e.sent,o((function(e){return Object(k.a)(Object(k.a)({},e),t)})),a((function(e){return Object(k.a)(Object(k.a)({},e),t)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var h=n.a.useState(!1),O=Object(i.a)(h,2),f=O[0],m=O[1],v=function(){m(!1),b({username:"",display_name:"",phone_number:"",skills:[],skillString:"",resume_url:""})},_=function(){var e=Object(y.a)(g.a.mark((function e(){var r,n,c,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(p);case 2:r=e.sent,n=Object(i.a)(r,2),c=n[0],s=n[1],c?(o(Object(k.a)(Object(k.a)(Object(k.a)({},l),p),{},{skillString:null})),a(Object(k.a)(Object(k.a)(Object(k.a)({},t),p),{},{skillString:null})),v()):alert(s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"user-profile__wrapper",style:{display:l&&l.username.length?"block":"none"},children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("img",{alt:l.display_name,src:l.display_picture}),Object(x.jsx)("div",{className:"__edit-button",children:Object(x.jsx)(j.a,{size:"small",variant:"text",style:{color:"#ffffff"},onClick:function(){b({username:l.username,display_name:l.display_name,phone_number:l.phone_number,skills:Object(I.a)(l.skills),skillString:l.skills.join(", "),resume_url:l.resume_url||""}),m(!0)},children:"edit profile"})}),Object(x.jsx)("div",{className:"__name",children:l.display_name}),Object(x.jsx)("div",{className:"__type",children:l.user_type})]}),"applicant"===l.user_type&&Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{children:"Skills added"}),Object(x.jsx)(R.a,{direction:"column",spacing:1,children:l.skills.map((function(e){return Object(x.jsx)("div",{className:"__skill-chip",children:e.toUpperCase()},e)}))})]}),Object(x.jsxs)("div",{className:"__contact-info-wrapper",children:[Object(x.jsx)("h3",{children:"Contact information"}),Object(x.jsxs)("div",{className:"__username",children:[Object(x.jsx)("i",{className:"lni lni-user"})," @",l.username]}),Object(x.jsxs)("div",{className:"__email",children:[Object(x.jsx)("i",{className:"lni lni-envelope"})," ",l.email.length>20?l.email.slice(0,17)+"...":l.email]}),Object(x.jsxs)("div",{className:"__phone_number",children:[Object(x.jsx)("i",{className:"lni lni-phone"})," ",l.phone_number]})]}),Object(x.jsxs)(U.a,{open:f,onClose:v,maxWidth:"xs",fullWidth:!0,children:[Object(x.jsx)(L.a,{children:"Edit profile details"}),Object(x.jsxs)(E.a,{children:[Object(x.jsx)(B.a,{children:"Basic details"}),Object(x.jsx)(w.a,{margin:"dense",label:"Name",type:"text",fullWidth:!0,variant:"standard",value:p.display_name,onChange:function(e){b(Object(k.a)(Object(k.a)({},p),{},{display_name:e.target.value}))}}),Object(x.jsx)(w.a,{margin:"dense",label:"Username",type:"text",fullWidth:!0,variant:"standard",value:p.username,onChange:function(e){b(Object(k.a)(Object(k.a)({},p),{},{username:e.target.value}))}}),"applicant"===l.user_type&&Object(x.jsx)(w.a,{margin:"dense",label:"Skills",helperText:"Enter skills separated by commas",type:"text",fullWidth:!0,variant:"standard",value:p.skillString,onChange:function(e){b(Object(k.a)(Object(k.a)({},p),{},{skillString:e.target.value,skills:e.target.value.split(",").map((function(e){return e.trim().toLowerCase()})).filter(Boolean)}))}}),"applicant"===l.user_type&&Object(x.jsx)(w.a,{margin:"dense",label:"Skills",helperText:"Enter link to your resume",type:"text",fullWidth:!0,variant:"standard",value:p.resume_url,onChange:function(e){b(Object(k.a)(Object(k.a)({},p),{},{resume_url:e.target.value}))}}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)(B.a,{children:"Contact details"}),Object(x.jsx)(w.a,{margin:"dense",label:"Contact number",type:"text",fullWidth:!0,variant:"standard",value:p.phone_number,onChange:function(e){b(Object(k.a)(Object(k.a)({},p),{},{phone_number:e.target.value}))}})]}),Object(x.jsxs)(P.a,{children:[Object(x.jsx)(j.a,{onClick:v,children:"Cancel"}),Object(x.jsx)(j.a,{onClick:_,children:"Update details"})]})]})]})},F=a(282),q=a(108),M=a.n(q),G=a(260),H=a(280),V=a(281),K=a(279),J=a(275),X=a(68),Y=a.n(X),Z=a(268),$=a(145),Q=a.n($),ee=a(146),te=a.n(ee),ae=a(87),re=a.n(ae);a(202);var ne=function(e){var t=e.applicationData,a=e.setStatus;return Object(x.jsxs)("div",{className:"app-card-wrapper box-shadow",children:[Object(x.jsxs)("div",{className:"__author-section",children:[Object(x.jsx)("img",{src:t.author.display_picture||"",alt:""}),Object(x.jsx)("span",{children:t.author.display_name}),Object(x.jsx)("span",{className:"__date",children:new Date(t.createdAt).toLocaleString()})]}),Object(x.jsxs)("div",{className:"__skill-section",children:[Object(x.jsx)("strong",{children:"Skills: "}),Object(x.jsx)(R.a,{className:"__skills-section",direction:"row",spacing:1,children:(t.author.skills||[]).map((function(e){return Object(x.jsx)(Z.a,{label:e.toUpperCase(),color:"primary",variant:"outlined"})}))})]}),t.cover_letter&&Object(x.jsx)("div",{className:"__cover-letter-section",children:t.cover_letter}),t.resume_url&&Object(x.jsx)("a",{href:t.resume_url,target:"_blank",children:Object(x.jsx)(j.a,{className:"__resume-button",fullWidth:!0,variant:"outlined",startIcon:Object(x.jsx)(Q.a,{}),children:" Open resume"})}),Object(x.jsx)("h4",{children:"Contact information"}),Object(x.jsxs)("div",{children:[Object(x.jsx)("strong",{children:"Email address: "})," ",t.author.email]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("strong",{children:"Contact: "})," ",t.author.phone_number]}),"pending"===t.application_status&&Object(x.jsxs)("div",{className:"__buttons-section",children:[Object(x.jsx)(j.a,{variant:"outlined",color:"error",startIcon:Object(x.jsx)(te.a,{}),onClick:function(){a(t._id,"rejected")},children:"Reject application"}),Object(x.jsx)(j.a,{variant:"contained",color:"primary",startIcon:Object(x.jsx)(re.a,{}),onClick:function(){a(t._id,"accepted")},children:"Accept application"})]})]})},ce=(a(203),function(){var e=Object(y.a)(g.a.mark((function e(t){var a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=localStorage.getItem("idToken"))&&null!=a&&"null"!==a){e.next=3;break}return e.abrupt("return",{});case 3:return e.prev=3,e.next=6,N.a.post("/api/applications/create",{new_application_data:t},{headers:{authorization:"Bearer "+a}});case 6:if("success"!==(r=e.sent).data.status){e.next=11;break}return e.abrupt("return",[r.data.data,null]);case 11:if("error"!==r.data.status){e.next=13;break}return e.abrupt("return",[!1,r.data.error]);case 13:e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(3),console.log("[addApplication]"),console.log(e.t0.response.data.error),e.abrupt("return",[!1,e.t0.response.data.error]);case 20:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t){return e.apply(this,arguments)}}()),se=function(){var e=Object(y.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=localStorage.getItem("idToken"))&&null!=t&&"null"!==t){e.next=3;break}return e.abrupt("return",[]);case 3:return e.prev=3,e.next=6,N.a.get("/api/applications/list/self",{headers:{authorization:"Bearer "+t}});case 6:return a=e.sent,e.abrupt("return",a.data.data);case 10:e.prev=10,e.t0=e.catch(3),console.log("[getUserApplications]"),console.log(e.t0.response.data.error);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(y.a)(g.a.mark((function e(t,a){var r,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=localStorage.getItem("idToken"))&&null!=r&&"null"!==r){e.next=3;break}return e.abrupt("return",[!1,"Not logged in."]);case 3:return e.prev=3,e.next=6,N.a.put("/api/applications/doc/".concat(t,"/status"),{updated_status:a},{headers:{authorization:"Bearer "+r}});case 6:if("success"!==(n=e.sent).data.status){e.next=11;break}return e.abrupt("return",[!0,null]);case 11:if("error"!==n.data.status){e.next=13;break}return e.abrupt("return",[!1,n.data.error]);case 13:e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(3),console.log("[updateApplicationStatus]"),console.log(e.t0.response.data.error),e.abrupt("return",[!1,e.t0.response.data.error]);case 20:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t,a){return e.apply(this,arguments)}}(),le=n.a.forwardRef((function(e,t){return Object(x.jsx)(G.a,Object(k.a)({direction:"up",ref:t},e))})),oe=function(e,t){return e.createdAt-t.createdAt};var ue=function(e){var t=e.projectData,a=e.projectList,r=e.setProjectList,c=e.isOwner,s=n.a.useState(!1),l=Object(i.a)(s,2),o=l[0],u=l[1],d=function(){u(!1)},p=function(){var e=Object(y.a)(g.a.mark((function e(n,c){var s,l,o,u,d,j,p;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(n,c);case 2:if(s=e.sent,l=Object(i.a)(s,2),o=l[0],l[1],o){e.next=8;break}return e.abrupt("return");case 8:if(u=Object(k.a)({},a.find((function(e){return e._id===t._id})))){e.next=11;break}return e.abrupt("return");case 11:if(d=a.findIndex((function(e){return e._id===t._id})),j=Object(I.a)(a),-1!==(p=u.applications.findIndex((function(e){return e._id===n})))){e.next=16;break}return e.abrupt("return");case 16:u.applications[p].application_status=c,j[d]=u,r(j);case 19:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"project-card-wrapper box-shadow",children:[Object(x.jsxs)("div",{className:"__card-heading",children:[Object(x.jsxs)("h3",{children:[t.title,c&&Object(x.jsx)(K.a,{className:"__edit-button"})]}),Object(x.jsx)("div",{children:new Date(t.createdAt).toDateString()})]}),Object(x.jsx)(R.a,{className:"__tags-section",direction:"row",spacing:1,children:(t.tags||[]).map((function(e){return Object(x.jsx)(Z.a,{label:e.toUpperCase(),color:"primary",variant:"outlined"},e)}))}),c&&Object(x.jsxs)("div",{className:"__appliation-section",children:[Object(x.jsx)("div",{children:"".concat(t.applications.length," application(s) received.")}),t.applications.length?Object(x.jsx)("div",{children:Object(x.jsx)(j.a,{onClick:function(){u(!0)},children:"View applications"})}):null]}),Object(x.jsx)("div",{className:"__description-section",children:t.description}),Object(x.jsxs)("div",{className:"__skills-section",children:[Object(x.jsx)("strong",{children:"Skills required: "}),t.skills_required.join(", ")]}),Object(x.jsxs)(U.a,{open:o,onClose:d,maxWidth:"s",fullScreen:!0,TransitionComponent:le,children:[Object(x.jsx)(H.a,{sx:{position:"relative"},children:Object(x.jsxs)(V.a,{children:[Object(x.jsx)(K.a,{edge:"start",color:"inherit",onClick:d,"aria-label":"close",children:Object(x.jsx)(Y.a,{})}),Object(x.jsxs)(J.a,{sx:{ml:2,flex:1},variant:"h6",component:"div",children:["All applications (",t.title,")"]})]})}),Object(x.jsx)(E.a,{children:Object(x.jsxs)(B.a,{children:[(t.applications||[]).filter((function(e){return"pending"===e.application_status})).length>0&&Object(x.jsx)("h4",{className:"bordered-h4",children:"Pending applications"}),(t.applications||[]).filter((function(e){return"pending"===e.application_status})).sort(oe).map((function(e){return Object(x.jsx)(ne,{applicationData:e,setStatus:p},e._id)})),(t.applications||[]).filter((function(e){return"accepted"===e.application_status})).length>0&&Object(x.jsx)("h4",{className:"bordered-h4",children:"Accepted applications"}),(t.applications||[]).filter((function(e){return"accepted"===e.application_status})).sort(oe).map((function(e){return Object(x.jsx)(ne,{applicationData:e,setStatus:p},e._id)})),(t.applications||[]).filter((function(e){return"rejected"===e.application_status})).length>0&&Object(x.jsx)("h4",{className:"bordered-h4",children:"Rejected applications"}),(t.applications||[]).filter((function(e){return"rejected"===e.application_status})).sort(oe).map((function(e){return Object(x.jsx)(ne,{applicationData:e,setStatus:p},e._id)}))]})})]})]})},de=(a(204),function(){var e=Object(y.a)(g.a.mark((function e(t){var a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=localStorage.getItem("idToken"))&&null!=a&&"null"!==a){e.next=3;break}return e.abrupt("return",{});case 3:return e.prev=3,e.next=6,N.a.post("/api/projects/create",{new_project_data:t},{headers:{authorization:"Bearer "+a}});case 6:if("success"!==(r=e.sent).data.status){e.next=12;break}return r.data.data.applications=[],e.abrupt("return",[r.data.data,null]);case 12:if("error"!==r.data.status){e.next=14;break}return e.abrupt("return",[!1,r.data.error]);case 14:e.next=21;break;case 16:return e.prev=16,e.t0=e.catch(3),console.log("[addProject]"),console.log(e.t0.response.data.error),e.abrupt("return",[!1,e.t0.response.data.error]);case 21:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(t){return e.apply(this,arguments)}}()),je=function(){var e=Object(y.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=localStorage.getItem("idToken"))&&null!=t&&"null"!==t){e.next=3;break}return e.abrupt("return",[]);case 3:return e.prev=3,e.next=6,N.a.get("/api/projects/list/self",{headers:{authorization:"Bearer "+t}});case 6:return a=e.sent,e.abrupt("return",a.data.data);case 10:e.prev=10,e.t0=e.catch(3),console.log("[getUserProjects]"),console.log(e.t0.response.data.error);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),pe=n.a.forwardRef((function(e,t){return Object(x.jsx)(G.a,Object(k.a)({direction:"up",ref:t},e))}));var be=function(){var e={title:"",description:"",address:{address_line_1:"",address_line_2:"",city:"",city_zip:""},tags:[],skills_required:[],tagsString:"",skillString:""},t=n.a.useState(!1),a=Object(i.a)(t,2),r=a[0],c=a[1],s=n.a.useState([]),l=Object(i.a)(s,2),o=l[0],u=l[1],d=n.a.useState(e),p=Object(i.a)(d,2),b=p[0],h=p[1],O=function(){h(e),c(!1)},f=function(){var t=Object(y.a)(g.a.mark((function t(){var a,r,n,s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,b.title?0!==(b.skills_required||[]).length||(alert("Please add atleast one skill required for the project."),0):(alert("Please enter a title for the project."),0)){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,de(b);case 5:if(a=t.sent,r=Object(i.a)(a,2),n=r[0],!(s=r[1])){t.next=13;break}throw s;case 13:u([n].concat(Object(I.a)(o))),c(!1),h(e);case 16:t.next=22;break;case 18:t.prev=18,t.t0=t.catch(0),console.log("[MyProjects/handleAddFormSubmit]",t.t0),alert("Project could not be created because an error was encountered.");case 22:case"end":return t.stop()}}),t,null,[[0,18]])})));return function(){return t.apply(this,arguments)}}();return n.a.useEffect((function(){function e(){return(e=Object(y.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,je();case 3:t=e.sent,u(t||[]),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("[MyProjects/fetchProjects]",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(x.jsxs)("div",{className:"my-projects-wrapper",children:[Object(x.jsx)("div",{className:"__fab-wrapper",children:Object(x.jsx)(F.a,{color:"primary","aria-label":"add",onClick:function(){c(!0)},children:Object(x.jsx)(M.a,{})})}),Object(x.jsxs)("div",{className:"__project-list-wrapper",children:[Object(x.jsx)("div",{className:"__heading-wrapper",children:Object(x.jsx)("h2",{children:"My Projects"})}),o.map((function(e){return Object(x.jsx)(ue,{projectData:e,projectList:o,setProjectList:u,isOwner:!0})}))]}),Object(x.jsxs)(U.a,{open:r,onClose:O,maxWidth:"s",fullScreen:!0,TransitionComponent:pe,children:[Object(x.jsx)(H.a,{sx:{position:"relative"},children:Object(x.jsxs)(V.a,{children:[Object(x.jsx)(K.a,{edge:"start",color:"inherit",onClick:O,"aria-label":"close",children:Object(x.jsx)(Y.a,{})}),Object(x.jsx)(J.a,{sx:{ml:2,flex:1},variant:"h6",component:"div",children:"Add a new project"}),Object(x.jsx)(j.a,{autoFocus:!0,color:"inherit",onClick:f,children:"Save"})]})}),Object(x.jsxs)(E.a,{children:[Object(x.jsx)(B.a,{children:"Basic details"}),Object(x.jsx)(w.a,{margin:"dense",label:"Project title",type:"text",fullWidth:!0,variant:"standard",value:b.title,onChange:function(e){h(Object(k.a)(Object(k.a)({},b),{},{title:e.target.value}))}}),Object(x.jsx)(w.a,{margin:"dense",label:"Description",type:"text",fullWidth:!0,multiline:!0,rows:4,variant:"standard",value:b.description,onChange:function(e){h(Object(k.a)(Object(k.a)({},b),{},{description:e.target.value}))}}),Object(x.jsx)(w.a,{margin:"dense",label:"Skills required",type:"text",fullWidth:!0,variant:"standard",helperText:"Enter a list of skills required by the candidate for working on this project, separated by commas (,)",value:b.skillString,onChange:function(e){h(Object(k.a)(Object(k.a)({},b),{},{skillString:e.target.value,skills_required:e.target.value.split(",").map((function(e){return e.trim().toLowerCase()})).filter(Boolean)}))}}),Object(x.jsx)(w.a,{margin:"dense",label:"Tags",type:"text",fullWidth:!0,variant:"standard",helperText:"Enter a list of tags related to your project, separated by commas (,)",value:b.tagString,onChange:function(e){h(Object(k.a)(Object(k.a)({},b),{},{tagString:e.target.value,tags:e.target.value.split(",").map((function(e){return e.trim().toLowerCase()})).filter(Boolean)}))}}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)(B.a,{children:"Address details (Leave blank if virtual)"}),Object(x.jsx)(w.a,{margin:"dense",label:"Address line 1",type:"text",fullWidth:!0,variant:"standard",value:b.address.address_line_1,onChange:function(e){h(Object(k.a)(Object(k.a)({},b),{},{address:Object(k.a)(Object(k.a)({},b.address),{},{address_line_1:e.target.value})}))}}),Object(x.jsx)(w.a,{margin:"dense",label:"Address line 2",type:"text",fullWidth:!0,variant:"standard",value:b.address.address_line_2,onChange:function(e){h(Object(k.a)(Object(k.a)({},b),{},{address:Object(k.a)(Object(k.a)({},b.address),{},{address_line_2:e.target.value})}))}}),Object(x.jsxs)("div",{className:"flex-box gap-8",children:[Object(x.jsx)(w.a,{margin:"dense",label:"City",type:"text",fullWidth:!0,variant:"standard",value:b.address.city,onChange:function(e){h(Object(k.a)(Object(k.a)({},b),{},{address:Object(k.a)(Object(k.a)({},b.address),{},{city:e.target.value})}))}}),Object(x.jsx)(w.a,{margin:"dense",label:"PIN code",type:"text",fullWidth:!0,variant:"standard",value:b.address.city_zip,onChange:function(e){h(Object(k.a)(Object(k.a)({},b),{},{address:Object(k.a)(Object(k.a)({},b.address),{},{city_zip:e.target.value})}))}})]})]})]})]})};a(205);var he=function(){var e=n.a.useState([]),t=Object(i.a)(e,2),a=t[0],r=t[1],c=n.a.useContext(Se),s=c.globalUserData,l=c.setGlobalUserData;return n.a.useEffect((function(){function e(){return(e=Object(y.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se();case 3:t=e.sent,r(t||[]),l(Object(k.a)(Object(k.a)({},s),{},{projects_applied_to:t.map((function(e){return e.project._id||""}))||[]})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("[MyApplications/fetchApplications]",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(x.jsxs)("div",{className:"my-applications-wrapper",children:[Object(x.jsx)("h2",{children:"My Applications"}),a.length<=0&&Object(x.jsxs)("h4",{children:["No applications yet. Start applying by ",Object(x.jsx)(u.b,{to:"search-projects",children:"searching for projects"}),"."]}),a.filter((function(e){return"pending"===e.application_status})).length>0&&Object(x.jsx)("h4",{children:"Pending applications"}),a.filter((function(e){return"pending"===e.application_status})).map((function(e,t){return Object(x.jsx)(ue,{projectData:Object(k.a)(Object(k.a)({},e.project),{},{createdAt:e.createdAt})},t)})),a.filter((function(e){return"accepted"===e.application_status})).length>0&&Object(x.jsx)("h4",{children:"Accepted applications"}),a.filter((function(e){return"accepted"===e.application_status})).map((function(e,t){return Object(x.jsx)(ue,{projectData:e.project},t)})),a.filter((function(e){return"rejected"===e.application_status})).length>0&&Object(x.jsx)("h4",{children:"Rejected applications"}),a.filter((function(e){return"rejected"===e.application_status})).map((function(e,t){return Object(x.jsx)(ue,{projectData:e.project},t)}))]})};a(206);var Oe=function(){var e=localStorage.getItem("idToken"),t=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).WEB_URL||"http://localhost:5000")+"/landing";e||(window.location=t);var a=n.a.useContext(Se).globalUserData;return Object(x.jsxs)("div",{className:"dashboard__grid",children:[Object(x.jsxs)("div",{children:[a.user_type&&"recruiter"===a.user_type&&Object(x.jsx)(be,{}),a.user_type&&"applicant"===a.user_type&&Object(x.jsx)(he,{})]}),Object(x.jsx)("div",{children:Object(x.jsx)(z,{})})]})},xe=a(147),fe=a.n(xe);a(207);var me=function(e){var t=e.projectData,a=n.a.useContext(Se),r=a.globalUserData,c=a.setGlobalUserData,s=n.a.useState(!1),l=Object(i.a)(s,2),o=l[0],u=l[1],d=n.a.useState({applied:!1,cover_letter:"",resume_url:""}),p=Object(i.a)(d,2),b=p[0],h=p[1],O=function(){u(!1)},f=function(){var e=Object(y.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce({project:t.objectID,cover_letter:b.cover_letter,resume_url:b.resume_url});case 3:a=[].concat(Object(I.a)(r.projects_applied_to),[t.objectID]),c(Object(k.a)(Object(k.a)({},r),{},{projects_applied_to:a})),u(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"search-card-wrapper box-shadow",children:[Object(x.jsx)("div",{className:"__card-heading",children:Object(x.jsx)("h3",{children:t.title})}),Object(x.jsx)(R.a,{className:"__tags-section",direction:"row",spacing:1,children:(t.tags||[]).map((function(e){return Object(x.jsx)(Z.a,{label:e.toUpperCase(),color:"primary",variant:"outlined"})}))}),Object(x.jsx)("div",{className:"__description-section",children:t.description}),Object(x.jsxs)("div",{className:"__skills-section",children:[Object(x.jsx)("strong",{children:"Skills required: "}),t.skills_required.join(", ")]}),Object(x.jsx)("br",{}),Object(x.jsx)("div",{children:!1===r.projects_applied_to.includes(t.objectID)?Object(x.jsx)(j.a,{onClick:function(){h(Object(k.a)(Object(k.a)({},b),{},{resume_url:r.resume_url||""})),u(!0)},variant:"outlined",children:"Apply"}):Object(x.jsx)(j.a,{variant:"outlined",disableRipple:!0,color:"success",startIcon:Object(x.jsx)(re.a,{}),children:"Already applied"})}),Object(x.jsxs)(U.a,{open:o,onClose:O,children:[Object(x.jsxs)(L.a,{style:{width:"600px",minWidth:"max-content",maxWidth:"80vw"},children:["Apply for ",t.title]}),Object(x.jsxs)(E.a,{children:[Object(x.jsxs)(B.a,{children:[Object(x.jsx)(w.a,{margin:"dense",label:"Add a cover letter (optional)",type:"text",fullWidth:!0,multiline:!0,rows:4,variant:"standard",value:b.title,onChange:function(e){h(Object(k.a)(Object(k.a)({},b),{},{cover_letter:e.target.value}))}}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)(w.a,{margin:"dense",label:"Add a link to your resume for this application",type:"text",fullWidth:!0,variant:"standard",value:b.resume_url,onChange:function(e){h(Object(k.a)(Object(k.a)({},b),{},{resume_url:e.target.value}))}})]}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)(B.a,{children:"Your skillset and profile will also be shared with the recruiter."})]}),Object(x.jsxs)(P.a,{children:[Object(x.jsx)(j.a,{onClick:O,children:"Cancel"}),Object(x.jsx)(j.a,{onClick:f,children:"Submit application"})]})]})]})},ve=(a(208),a(209),a(263)),_e=a(265),ge=a(267),ke=fe()("ZH4AVLMDOX","486758ad5d6465627b652b3812ad5e0d");function ye(e){return Object(x.jsx)("div",{className:"hit",children:Object(x.jsx)(me,{projectData:e.hit})})}var we=function(){var e=n.a.useContext(Se).globalUserData;return Object(x.jsx)("div",{children:Object(x.jsx)(ve.a,{indexName:"projects",searchClient:ke,children:Object(x.jsxs)("div",{className:"right-panel",children:[Object(x.jsx)("div",{className:"ais-SearchBox-input-wrapper",children:Object(x.jsx)(_e.a,{autoFocus:!0,focusShortcuts:["/"],defaultRefinement:e.skills.join(", ")})}),Object(x.jsx)(ge.a,{hitComponent:ye})]})})})},Ce=Object(l.a)({palette:{primary:{light:"#0068d6",main:"#0068d6",dark:"#0068d6",contrastText:"#fff"},secondary:{light:"#0068d6",main:"#0068d6",dark:"#0068d6",contrastText:"#000"}}}),Se=Object(r.createContext)({});var Ne=function(){var e=Object(r.useState)({username:"",firebase_uid:"",display_name:"",display_picture:"",phone_number:"",email:"",skills:[],fcm_device_tokens:[]}),t=Object(i.a)(e,2),a=t[0],n=t[1];return Object(x.jsx)(Se.Provider,{value:{globalUserData:a,setGlobalUserData:n},children:Object(x.jsx)(o.a,{theme:Ce,children:Object(x.jsx)(u.a,{children:Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)("div",{id:"app-nav-container",children:Object(x.jsx)("h1",{children:Object(x.jsx)(m,{})})}),Object(x.jsx)("div",{id:"app-page-container",children:Object(x.jsxs)(d.c,{children:[Object(x.jsx)(d.a,{exact:!0,path:"/",component:v}),Object(x.jsx)(d.a,{exact:!0,path:"/dashboard",component:Oe}),Object(x.jsx)(d.a,{exact:!0,path:"/complete-signup",component:T}),Object(x.jsx)(d.a,{exact:!0,path:"/dashboard",component:Oe}),Object(x.jsx)(d.a,{exact:!0,path:"/search-projects",component:we})]})})]})})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var De=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,284)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),r(e),n(e),c(e),s(e)}))};s.a.render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(Ne,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),De()}},[[220,1,2]]]);
//# sourceMappingURL=main.be6f3ebe.chunk.js.map